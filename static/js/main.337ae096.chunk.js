(this["webpackJsonpminer-bots"]=this["webpackJsonpminer-bots"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,r){},function(e,t,r){},function(e,t,r){},,function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),c=r(8),o=r.n(c),s=(r(14),r(9)),i=r(6),l=r(2),u=r(3),d=r(5),j=r(4),p=(r(15),r(16),r(0)),b=function(e){Object(d.a)(r,e);var t=Object(j.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){return Object(p.jsx)("div",{children:"Upgrade"})}}]),r}(a.Component),h=(a.Component,r(18),r(19),function(e){Object(d.a)(r,e);var t=Object(j.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){var e=this.props.playerLoc,t={top:40*e.y,left:40*e.x};return Object(p.jsx)("div",{className:"player",style:t})}}]),r}(a.Component)),y=function(e){Object(d.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(l.a)(this,r);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).generateDOM=function(){return e.props.mapInfo.map((function(e,t){var r=e.map((function(e,t){return Object(p.jsx)("div",{className:e.terrain},t)}));return Object(p.jsx)("div",{className:"row",children:r},t)}))},e}return Object(u.a)(r,[{key:"render",value:function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{children:"Menu"}),Object(p.jsxs)("div",{className:"map",children:[Object(p.jsx)(h,{playerLoc:this.props.playerLoc}),this.generateDOM()]})]})}}]),r}(a.Component),O=function(e){Object(d.a)(r,e);var t=Object(j.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){return Object(p.jsxs)("div",{children:["Carry",Object(p.jsxs)("div",{children:["Level: ",Object(p.jsx)("span",{children:this.props.statInfo.level})]}),Object(p.jsxs)("div",{children:["Current Load: ",Object(p.jsx)("span",{children:this.props.statInfo.currLoad}),"kg"]}),Object(p.jsxs)("div",{children:["Maximum Load: ",Object(p.jsx)("span",{children:this.props.statInfo.maxLoad}),"kg"]})]})}}]),r}(a.Component),f=(r(20),function(e){Object(d.a)(r,e);var t=Object(j.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"stats",children:[Object(p.jsxs)("div",{children:["Currency: ",Object(p.jsx)("span",{children:this.props.player.currency}),"\xa9"]}),Object(p.jsxs)("div",{children:["Dig Tools: ",Object(p.jsx)("span",{children:this.props.player.digTools})]}),Object(p.jsxs)("div",{children:["Sensors: ",Object(p.jsx)("span",{children:this.props.player.sensors})]}),Object(p.jsx)(O,{statInfo:this.props.player.carry})]})}}]),r}(a.Component)),m=(r(21),function(e){Object(d.a)(r,e);var t=Object(j.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){var e=this;return Object(p.jsx)("div",{className:"controls",children:Object(p.jsx)("button",{className:"btn",onClick:function(){e.props.digHandler()},children:"Dig"})})}}]),r}(a.Component)),v=(r(22),function(e){Object(d.a)(r,e);var t=Object(j.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"cockpit",children:[Object(p.jsx)(f,{player:this.props.player}),Object(p.jsx)(m,{digHandler:this.props.digHandler})]})}}]),r}(a.Component)),g=(r(23),function(e){return Object(p.jsxs)("div",{className:"menu",children:[Object(p.jsx)("p",{children:"Start mining sequence..."}),Object(p.jsx)("button",{onClick:e.newGame,children:"New Game"})]})}),x=function(e){Object(d.a)(r,e);var t=Object(j.a)(r);function r(e){var a;return Object(l.a)(this,r),(a=t.call(this,e)).generateTile=function(e){var t={terrain:e};return t.canMoveTo="land"===t.terrain||"base"===t.terrain,"land"===t.terrain&&(t.resource="fe",t.quantity=a.roll(20),t.threshold=a.state.level),t},a.move=function(e){if(RegExp("Arrow*").test(e.key)){var t=Object(i.a)({},a.state.player.currLoc);"ArrowUp"===e.key&&t.y>0&&(t.y-=1),"ArrowDown"===e.key&&t.y<a.state.board.mapSize-1&&(t.y+=1),"ArrowLeft"===e.key&&t.x>0&&(t.x-=1),"ArrowRight"===e.key&&t.x<a.state.board.mapSize-1&&(t.x+=1),a.state.board.gameMap[t.y][t.x].canMoveTo&&a.setState({player:Object(i.a)(Object(i.a)({},a.state.player),{},{currLoc:t})}),"base"===a.state.board.gameMap[t.y][t.x].terrain&&a.returnToBase()}},a.dig=function(e){console.log("digging");var t=Object(i.a)({},a.state.player),r=Object(i.a)({},a.state.board).gameMap[t.currLoc.y][t.currLoc.x];if("base"!==r.terrain)if(t.digTools>=r.threshold){console.log("successful dig");var n=r.resource,c=r.quantity;if(console.log(t,r,c),t.carry.maxLoad===t.carry.currLoad)return void alert("You are already full. Return to base to unload");var o=t.carry.currLoad+c>t.carry.maxLoad?t.carry.currLoad+c-t.carry.maxLoad:0,s=c-o;t.carry.load[n]||(t.carry.load[n]=0),t.carry.load[n]+=s,t.carry.currLoad+=s,a.setState({player:Object(i.a)({},a.state.player)}),alert("You mined ".concat(s," ").concat(n[0].toUpperCase()+n.slice(1))),r.quantity=o,a.setState({board:Object(i.a)({},a.state.board)})}else console.log("You are not equipped for this dig");else alert('Security Bot: "You can\'t dig on base!"')},a.returnToBase=function(){console.log("returned to base"),a.unload()},a.unload=function(){console.log("unloading");for(var e=Object(i.a)({},a.state.player),t={fe:10},r=0,n=0,c=Object.entries(e.carry.load);n<c.length;n++){var o=Object(s.a)(c[n],2),l=o[0];r+=o[1]/t[l]}e.currency+=r,e.carry.currLoad=0,e.carry.load={},a.setState({player:e}),alert('Mr. Orewell: "Great job! You earned '.concat(r,'(c)"'))},a.newGameHandler=function(){console.log("New Game"),a.setState({menuShowing:!1})},a.state={menuShowing:!0,level:1,board:{mapSize:8,gameMap:[]},player:{currency:0,sensors:1,digTools:1,carry:{level:1,currLoad:0,load:{},maxLoad:100},currLoc:{x:0,y:0}}},a}return Object(u.a)(r,[{key:"createGrid",value:function(e){console.log("creating grid");for(var t=Object(i.a)({},this.state.board),r=0;r<e;r++){t.gameMap.push([]);for(var a=0;a<e;a++)t.gameMap[r][a]=this.generateTile(this.setCellType(25,20))}var n=this.setBaseLoc(e);console.log("base site selected"),t.gameMap[n[1]][n[0]]=this.generateTile("base"),this.setState({tempGrid:t}),console.log("base constructed"),console.log(t);var c=Object(i.a)({},this.state.player.currLoc);c.x=n[0],c.y=n[1],this.setState({player:Object(i.a)(Object(i.a)({},this.state.player),{},{currLoc:c})})}},{key:"roll",value:function(e){return Math.floor(Math.random()*e)+1}},{key:"setCellType",value:function(e,t){return this.roll(100)<=e?"water":this.roll(100)<=t?"cliff":"land"}},{key:"setBaseLoc",value:function(e){console.log("setting up base");var t,r=Math.floor(Math.random()*e);return 0===r||r===e-1?t=Math.floor(Math.random()*e):1===(t=Math.round(Math.random()))&&(t=e-1),[r,t]}},{key:"initNewGame",value:function(){console.log("init game"),this.createGrid(this.state.board.mapSize),window.addEventListener("keydown",this.move)}},{key:"loadGameHandler",value:function(){console.log("Load Game")}},{key:"componentDidMount",value:function(){0===this.state.board.gameMap.length&&this.initNewGame()}},{key:"render",value:function(){return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)("h1",{children:"Miner Bot"}),this.state.menuShowing?Object(p.jsx)(g,{newGame:this.newGameHandler,loadGame:this.loadGameHandler}):Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)(y,{mapInfo:this.state.board.gameMap,playerLoc:this.state.player.currLoc}),Object(p.jsx)(v,{player:this.state.player,digHandler:this.dig})]})]})}}]),r}(a.Component),L=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,25)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,o=t.getTTFB;r(e),a(e),n(e),c(e),o(e)}))};o.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(x,{})}),document.getElementById("root")),L()}],[[24,1,2]]]);
//# sourceMappingURL=main.337ae096.chunk.js.map